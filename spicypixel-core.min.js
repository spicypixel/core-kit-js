var SpicyPixel;!function(t){var e;!function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(){function t(){throw new Error("This class is static and not meant to be constructed")}return t.toBase64=function(t){for(var n=new Uint8Array(t),i=n.length,r="",o=0;i>o;o+=3)r+=e[n[o]>>2],r+=e[(3&n[o])<<4|n[o+1]>>4],r+=e[(15&n[o+1])<<2|n[o+2]>>6],r+=e[63&n[o+2]];return i%3===2?r=r.substring(0,r.length-1)+"=":i%3===1&&(r=r.substring(0,r.length-2)+"=="),r},t.fromBase64=function(t){var n,i,r,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);for(var p=new ArrayBuffer(a),f=new Uint8Array(p),c=0;s>c;c+=4)n=e.indexOf(t[c]),i=e.indexOf(t[c+1]),r=e.indexOf(t[c+2]),o=e.indexOf(t[c+3]),f[u++]=n<<2|i>>4,f[u++]=(15&i)<<4|r>>2,f[u++]=(3&r)<<6|63&o;return p},t.toBinaryString=function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;i>r;)e+=String.fromCharCode(n[r]),++r;return e},t.fromBinaryString=function(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;e>r;){var o=t.charCodeAt(r);if(o>255)throw new Error("a multibyte character was encountered in the provided string which indicates it was not encoded as a binary string");i[r]=o,++r}return i.buffer},t}();t.ArrayBufferConverter=n}(e=t.Core||(t.Core={}))}(SpicyPixel||(SpicyPixel={}));var SpicyPixel;!function(t){var e;!function(t){var e=function(){function e(e,n){if(n||(n={mediaType:null,encoding:"auto"}),n.encoding||(n.encoding="auto"),"auto"!==n.encoding&&"url"!==n.encoding&&"base64"!==n.encoding)throw new Error("Unknown encoding (must be 'auto', 'url', or 'base64'): "+n.encoding);var i=n.mediaType;if("string"==typeof i&&(i=new t.MediaType(i)),this._mediaType=i,!e)return this._isBase64=!1,void(this._data=e);if(e instanceof ArrayBuffer)"base64"===n.encoding||"auto"===n.encoding?this.setBase64EncodedData(t.ArrayBufferConverter.toBase64(e)):"url"===n.encoding&&this.setURLEncodedData(encodeURIComponent(t.ArrayBufferConverter.toBinaryString(e)));else{if("string"!=typeof e)throw new Error("unsupported object type (must be ArrayBuffer or string): "+typeof e);var r="data:"===e.slice(0,"data:".length);if(!r)throw new Error("Only 'data' URI strings are supported");var o=e.indexOf(",");if(-1===o)throw new Error("Missing comma in SQLBlob URL");for(var a=e.slice(0,o),s=e.slice(o+1),u=a.split(";"),p=!1,f=1;f<u.length;++f){var c=u[f].trim();if("base64"===c){p=!0;break}}i=a.slice("data:".length,o),i=0===i.length?null:i,this._mediaType=this._mediaType||new t.MediaType(i),"auto"===n.encoding?(this._isBase64=p,this._data=s):"base64"===n.encoding?(this._isBase64=!0,this._data=p?s:window.btoa(unescape(s))):"url"===n.encoding&&(this._isBase64=!1,this._data=p?encodeURIComponent(window.atob(s)):s)}}return Object.defineProperty(e.prototype,"mediaType",{get:function(){return this._mediaType},set:function(e){if(e instanceof t.MediaType)this._mediaType=e;else{if("string"!=typeof e)throw new Error("Media type must be 'string' or 'MediaType'");this._mediaType=new t.MediaType(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBase64",{get:function(){return this._isBase64},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.setBase64EncodedData=function(t){this._isBase64=!0,this._data=t},e.prototype.setURLEncodedData=function(t){this._isBase64=!1,this._data=t},e.prototype.toString=function(){return"data:"+(this._mediaType?this._mediaType.toString():"")+(this._isBase64?";base64":"")+","+(this._data?this._data:"")},e.prototype.toJSON=function(){return this.toString()},e.prototype.valueOf=function(){return this.toString()},e.prototype.toArrayBuffer=function(){return this._data?this._isBase64?t.ArrayBufferConverter.fromBase64(this._data):t.ArrayBufferConverter.fromBinaryString(unescape(this._data)):null},e.prototype.toBase64=function(){return this._data?this._isBase64?this._data:window.btoa(unescape(this._data)):this._data},e.prototype.toBinaryString=function(){return this._data?this._isBase64?window.atob(this._data):unescape(this._data):this._data},e.prototype.toUnicodeString=function(){return this._data?decodeURIComponent(this._isBase64?escape(window.atob(this._data)):this._data):this._data},e.createFromBase64=function(t,n){return new e("data:;base64,"+t,n)},e.createFromBinaryString=function(t,n){return n||(n={encoding:"auto"}),"base64"===n.encoding||"auto"===n.encoding?new e("data:;base64,"+window.btoa(t),n):"url"===n.encoding?new e("data:,"+encodeURIComponent(t),n):void 0},e.createFromUnicodeString=function(t,n){return new e("data:,"+encodeURIComponent(t),n)},e}();t.DataURL=e}(e=t.Core||(t.Core={}))}(SpicyPixel||(SpicyPixel={}));var SpicyPixel;!function(t){var e;!function(t){var e=/^(application|audio|image|message|model|multipart|text|video)\/([a-zA-Z0-9!#$%^&\*_\-\+{}\|'.`~]{1,127})(;.*)?$/,n=/;(?=(?:[^\"]*\"[^\"]*\")*(?![^\"]*\"))/,i=function(){function t(t){var i=this;if(this._type=null,this.setSubtypeAndSuffix(null),this._parameters={},t){var r=t.match(e);r&&(this._type=r[1],this.setSubtypeAndSuffix(r[2]),r[3]&&r[3].substr(1).split(n).forEach(function(t){var e=t.split("=",2);2===e.length&&(i._parameters[e[0].toLowerCase().trim()]=i.unwrapQuotes(e[1].trim()))}))}}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtype",{get:function(){return this._subtype},set:function(t){this.setSubtypeAndSuffix(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parameters",{get:function(){return this._parameters},set:function(t){this._parameters=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return null!==this._type&&null!==this._subtype&&"example"!==this._subtype},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSuffix",{get:function(){return!!this._suffix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVendor",{get:function(){return this.firstSubtypeFacetEquals("vnd")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPersonal",{get:function(){return this.firstSubtypeFacetEquals("prs")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExperimental",{get:function(){return this.firstSubtypeFacetEquals("x")||"x-"===this._subtype.substring(0,2).toLowerCase()},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var t=this,e="";if(this.isValid){e=e+this._type+"/"+this._subtype,this.hasSuffix&&(e=e+"+"+this._suffix);var n=Object.keys(this._parameters);if(n.length>0){var i=[],r=this;n.sort(function(t,e){return t.localeCompare(e)}).forEach(function(e){i.push(e+"="+t.wrapQuotes(r._parameters[e]))}),e=e+";"+i.join(";")}}return e},t.prototype.toJSON=function(){return this.toString()},t.prototype.valueOf=function(){return this.toString()},t.prototype.setSubtypeAndSuffix=function(t){if(this._subtype=t,this._subtypeFacets=[],this._suffix=null,t)if(t.indexOf("+")>-1&&"+"!==t.substr(-1)){var e=t.split("+",2);this._subtype=e[0],this._subtypeFacets=e[0].split("."),this._suffix=e[1]}else this._subtypeFacets=t.split(".")},t.prototype.firstSubtypeFacetEquals=function(t){return this._subtypeFacets.length>0&&this._subtypeFacets[0]===t},t.prototype.wrapQuotes=function(t){return t.indexOf(";")>-1?'"'+t+'"':t},t.prototype.unwrapQuotes=function(t){return'"'===t.substr(0,1)&&'"'===t.substr(-1)?t.substr(1,t.length-2):t},t}();t.MediaType=i}(e=t.Core||(t.Core={}))}(SpicyPixel||(SpicyPixel={}));var SpicyPixel;!function(t){var e=function(){function t(){}return t}();t.Imports=e}(SpicyPixel||(SpicyPixel={})),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.SpicyPixel=e()}(this,function(){return SpicyPixel});
//# sourceMappingURL=spicypixel-core.min.js.map