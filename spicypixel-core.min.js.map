{"version":3,"sources":["src/ArrayBufferConverter.ts","spicypixel-core.js","src/DataURL.ts","src/MediaType.ts","src/UniversalModule.ts"],"names":["SpicyPixel","SpicyPixel.Core","SpicyPixel.Core.ArrayBufferConverter","SpicyPixel.Core.ArrayBufferConverter.constructor","SpicyPixel.Core.ArrayBufferConverter.toBase64","SpicyPixel.Core.ArrayBufferConverter.fromBase64","SpicyPixel.Core.ArrayBufferConverter.toBinaryString","SpicyPixel.Core.ArrayBufferConverter.fromBinaryString","SpicyPixel.Core.DataURL","SpicyPixel.Core.DataURL.constructor","get","SpicyPixel.Core.DataURL.mediaType","set","enumerable","configurable","SpicyPixel.Core.DataURL.isBase64","SpicyPixel.Core.DataURL.data","SpicyPixel.Core.DataURL.setBase64EncodedData","SpicyPixel.Core.DataURL.setURLEncodedData","SpicyPixel.Core.DataURL.toString","SpicyPixel.Core.DataURL.toJSON","SpicyPixel.Core.DataURL.valueOf","SpicyPixel.Core.DataURL.toArrayBuffer","SpicyPixel.Core.DataURL.toBase64","SpicyPixel.Core.DataURL.toBinaryString","SpicyPixel.Core.DataURL.toUnicodeString","SpicyPixel.Core.DataURL.createFromBase64","SpicyPixel.Core.DataURL.createFromBinaryString","SpicyPixel.Core.DataURL.createFromUnicodeString","SpicyPixel.Core.MediaType","SpicyPixel.Core.MediaType.constructor","SpicyPixel.Core.MediaType.type","SpicyPixel.Core.MediaType.subtype","SpicyPixel.Core.MediaType.parameters","SpicyPixel.Core.MediaType.isValid","SpicyPixel.Core.MediaType.hasSuffix","SpicyPixel.Core.MediaType.isVendor","SpicyPixel.Core.MediaType.isPersonal","SpicyPixel.Core.MediaType.isExperimental","SpicyPixel.Core.MediaType.toString","SpicyPixel.Core.MediaType.toJSON","SpicyPixel.Core.MediaType.valueOf","SpicyPixel.Core.MediaType.setSubtypeAndSuffix","SpicyPixel.Core.MediaType.firstSubtypeFacetEquals","SpicyPixel.Core.MediaType.wrapQuotes","SpicyPixel.Core.MediaType.unwrapQuotes","SpicyPixel.Core.Imports","root","factory","define","amd","exports","module","Core","this"],"mappings":"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","file":"spicypixel-core.min.js","sourcesContent":["module SpicyPixel.Core {\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  export class ArrayBufferConverter\n  {\n    constructor() {\n      throw new Error('This class is static and not meant to be constructed');\n    }\n\n    /*\n     * Base64 conversion from:\n     *\n     * base64-arraybuffer\n     * https://github.com/niklasvh/base64-arraybuffer\n     *\n     * Copyright (c) 2012 Niklas von Hertzen\n     * Licensed under the MIT license.\n     */\n    static toBase64(arrayBuffer:ArrayBuffer):string {\n      // jshint bitwise:false\n      var bytes = new Uint8Array(arrayBuffer);\n      var len = bytes.length;\n      var base64 = \"\";\n\n      for (var i = 0; i < len; i+=3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n      }\n\n      if ((len % 3) === 2) {\n        base64 = base64.substring(0, base64.length - 1) + \"=\";\n      } else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + \"==\";\n      }\n\n      return base64;\n      // jshint bitwise:true\n    }\n\n    static fromBase64(base64:string):ArrayBuffer {\n      // jshint bitwise:false\n      var bufferLength = base64.length * 0.75;\n      var len = base64.length;\n      var p = 0;\n      var encoded1:number, encoded2:number, encoded3:number, encoded4:number;\n\n      if (base64[base64.length - 1] === \"=\") {\n        bufferLength--;\n        if (base64[base64.length - 2] === \"=\") {\n          bufferLength--;\n        }\n      }\n\n      var arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n      for (var i = 0; i < len; i+=4) {\n        encoded1 = chars.indexOf(base64[i]);\n        encoded2 = chars.indexOf(base64[i+1]);\n        encoded3 = chars.indexOf(base64[i+2]);\n        encoded4 = chars.indexOf(base64[i+3]);\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n      }\n\n      return arraybuffer;\n      // jshint bitwise:true\n    }\n\n    static toBinaryString(arrayBuffer:ArrayBuffer):string {\n      var binary = \"\";\n      var bytes = new Uint8Array(arrayBuffer);\n      var length = bytes.byteLength;\n      var i = 0;\n      while (i < length) {\n        binary += String.fromCharCode(bytes[i]);\n        ++i;\n      }\n      return binary;\n    }\n\n    static fromBinaryString(binary:string):ArrayBuffer {\n      var length = binary.length;\n      var buffer = new ArrayBuffer(length);\n      var bytes = new Uint8Array(buffer);\n      var i = 0;\n      while (i < length) {\n        var code = binary.charCodeAt(i);\n        if (code > 255) {\n          throw new Error(\"a multibyte character was encountered in the provided string which indicates it was not encoded as a binary string\");\n        }\n        bytes[i] = code;\n        ++i;\n      }\n      return bytes.buffer;\n    }\n  }\n}\n","var SpicyPixel;\n(function (SpicyPixel) {\n    var Core;\n    (function (Core) {\n        var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n        var ArrayBufferConverter = (function () {\n            function ArrayBufferConverter() {\n                throw new Error('This class is static and not meant to be constructed');\n            }\n            /*\n             * Base64 conversion from:\n             *\n             * base64-arraybuffer\n             * https://github.com/niklasvh/base64-arraybuffer\n             *\n             * Copyright (c) 2012 Niklas von Hertzen\n             * Licensed under the MIT license.\n             */\n            ArrayBufferConverter.toBase64 = function (arrayBuffer) {\n                // jshint bitwise:false\n                var bytes = new Uint8Array(arrayBuffer);\n                var len = bytes.length;\n                var base64 = \"\";\n                for (var i = 0; i < len; i += 3) {\n                    base64 += chars[bytes[i] >> 2];\n                    base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n                    base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n                    base64 += chars[bytes[i + 2] & 63];\n                }\n                if ((len % 3) === 2) {\n                    base64 = base64.substring(0, base64.length - 1) + \"=\";\n                }\n                else if (len % 3 === 1) {\n                    base64 = base64.substring(0, base64.length - 2) + \"==\";\n                }\n                return base64;\n                // jshint bitwise:true\n            };\n            ArrayBufferConverter.fromBase64 = function (base64) {\n                // jshint bitwise:false\n                var bufferLength = base64.length * 0.75;\n                var len = base64.length;\n                var p = 0;\n                var encoded1, encoded2, encoded3, encoded4;\n                if (base64[base64.length - 1] === \"=\") {\n                    bufferLength--;\n                    if (base64[base64.length - 2] === \"=\") {\n                        bufferLength--;\n                    }\n                }\n                var arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n                for (var i = 0; i < len; i += 4) {\n                    encoded1 = chars.indexOf(base64[i]);\n                    encoded2 = chars.indexOf(base64[i + 1]);\n                    encoded3 = chars.indexOf(base64[i + 2]);\n                    encoded4 = chars.indexOf(base64[i + 3]);\n                    bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n                    bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n                    bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n                }\n                return arraybuffer;\n                // jshint bitwise:true\n            };\n            ArrayBufferConverter.toBinaryString = function (arrayBuffer) {\n                var binary = \"\";\n                var bytes = new Uint8Array(arrayBuffer);\n                var length = bytes.byteLength;\n                var i = 0;\n                while (i < length) {\n                    binary += String.fromCharCode(bytes[i]);\n                    ++i;\n                }\n                return binary;\n            };\n            ArrayBufferConverter.fromBinaryString = function (binary) {\n                var length = binary.length;\n                var buffer = new ArrayBuffer(length);\n                var bytes = new Uint8Array(buffer);\n                var i = 0;\n                while (i < length) {\n                    var code = binary.charCodeAt(i);\n                    if (code > 255) {\n                        throw new Error(\"a multibyte character was encountered in the provided string which indicates it was not encoded as a binary string\");\n                    }\n                    bytes[i] = code;\n                    ++i;\n                }\n                return bytes.buffer;\n            };\n            return ArrayBufferConverter;\n        })();\n        Core.ArrayBufferConverter = ArrayBufferConverter;\n    })(Core = SpicyPixel.Core || (SpicyPixel.Core = {}));\n})(SpicyPixel || (SpicyPixel = {}));\n\n// TODO: Optimize using deferred parsing.\n// If a data URL string is passed in and the only operation called is\n// toString() then there is no need to parse and increase\n// memory consumption. This would complicate the code though\n// so only implement if needed.\nvar SpicyPixel;\n(function (SpicyPixel) {\n    var Core;\n    (function (Core) {\n        // data:[<MIME-type>][;charset=<encoding>][;base64],<data>\n        // dataurl    := \"data:\" [ mediatype ] [ \";base64\" ] \",\" data\n        // mediatype  := [ type \"/\" subtype ] *( \";\" parameter )\n        // data       := *urlchar\n        // parameter  := attribute \"=\" value\n        var DataURL = (function () {\n            function DataURL(data, options) {\n                // Set default options\n                if (!options) {\n                    options = {\n                        mediaType: null,\n                        encoding: \"auto\"\n                    };\n                }\n                if (!options.encoding) {\n                    options.encoding = \"auto\";\n                }\n                // Validate encoding\n                if (options.encoding !== \"auto\" && options.encoding !== \"url\" && options.encoding !== \"base64\") {\n                    throw new Error(\"Unknown encoding (must be 'auto', 'url', or 'base64'): \" + options.encoding);\n                }\n                // Save media type\n                var mediaType = options.mediaType;\n                if (typeof mediaType === \"string\") {\n                    mediaType = new Core.MediaType(mediaType);\n                }\n                this._mediaType = mediaType;\n                // Save data and return if none\n                if (!data) {\n                    this._isBase64 = false;\n                    this._data = data;\n                    return;\n                }\n                // Parse data\n                if (data instanceof ArrayBuffer) {\n                    if (options.encoding === \"base64\" || options.encoding === \"auto\") {\n                        this.setBase64EncodedData(Core.ArrayBufferConverter.toBase64(data));\n                    }\n                    else if (options.encoding === \"url\") {\n                        this.setURLEncodedData(encodeURIComponent(Core.ArrayBufferConverter.toBinaryString(data)));\n                    }\n                }\n                else if (typeof data === \"string\") {\n                    // Ensure this is a data URI\n                    var startsWithData = data.slice(0, \"data:\".length) === \"data:\";\n                    if (!startsWithData) {\n                        throw new Error(\"Only 'data' URI strings are supported\");\n                    }\n                    // Find the comma that separates the prefix from the data\n                    var commaIndex = data.indexOf(\",\");\n                    if (commaIndex === -1) {\n                        throw new Error(\"Missing comma in SQLBlob URL\");\n                    }\n                    // Get prefix and data\n                    var prefix = data.slice(0, commaIndex);\n                    var encodedData = data.slice(commaIndex + 1);\n                    // Get is base64\n                    var prefixParts = prefix.split(';');\n                    var isBase64 = false;\n                    for (var i = 1; i < prefixParts.length; ++i) {\n                        var prefixPart = prefixParts[i].trim();\n                        if (prefixPart === \"base64\") {\n                            isBase64 = true;\n                            break;\n                        }\n                    }\n                    // Get media type\n                    mediaType = prefix.slice(\"data:\".length, commaIndex);\n                    mediaType = mediaType.length === 0 ? null : mediaType;\n                    this._mediaType = this._mediaType || new Core.MediaType(mediaType);\n                    // Convert encoded data as needed\n                    if (options.encoding === \"auto\") {\n                        // Auto encoding saves the data URI as is\n                        this._isBase64 = isBase64;\n                        this._data = encodedData;\n                    }\n                    else if (options.encoding === \"base64\") {\n                        // Convert to base64\n                        this._isBase64 = true;\n                        if (isBase64) {\n                            this._data = encodedData;\n                        }\n                        else {\n                            this._data = window.btoa(unescape(encodedData));\n                        }\n                    }\n                    else if (options.encoding === \"url\") {\n                        // Convert to URL encoding\n                        this._isBase64 = false;\n                        if (!isBase64) {\n                            this._data = encodedData;\n                        }\n                        else {\n                            this._data = encodeURIComponent(window.atob(encodedData));\n                        }\n                    }\n                }\n                else {\n                    throw new Error(\"unsupported object type (must be ArrayBuffer or string): \" + typeof data);\n                }\n            }\n            Object.defineProperty(DataURL.prototype, \"mediaType\", {\n                get: function () {\n                    return this._mediaType;\n                },\n                set: function (mediaType) {\n                    if (mediaType instanceof Core.MediaType) {\n                        this._mediaType = mediaType;\n                    }\n                    else if (typeof mediaType === \"string\") {\n                        this._mediaType = new Core.MediaType(mediaType);\n                    }\n                    else {\n                        throw new Error(\"Media type must be 'string' or 'MediaType'\");\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(DataURL.prototype, \"isBase64\", {\n                get: function () {\n                    return this._isBase64;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(DataURL.prototype, \"data\", {\n                get: function () {\n                    return this._data;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            DataURL.prototype.setBase64EncodedData = function (base64EncodedData) {\n                this._isBase64 = true;\n                this._data = base64EncodedData;\n            };\n            DataURL.prototype.setURLEncodedData = function (urlEncodedData) {\n                this._isBase64 = false;\n                this._data = urlEncodedData;\n            };\n            DataURL.prototype.toString = function () {\n                return \"data:\" + (this._mediaType ? this._mediaType.toString() : \"\") + (this._isBase64 ? \";base64\" : \"\") + \",\" + (this._data ? this._data : \"\");\n            };\n            DataURL.prototype.toJSON = function () {\n                return this.toString();\n            };\n            DataURL.prototype.valueOf = function () {\n                return this.toString();\n            };\n            DataURL.prototype.toArrayBuffer = function () {\n                if (!this._data) {\n                    return null;\n                }\n                if (this._isBase64) {\n                    return Core.ArrayBufferConverter.fromBase64(this._data);\n                }\n                else {\n                    return Core.ArrayBufferConverter.fromBinaryString(unescape(this._data));\n                }\n            };\n            DataURL.prototype.toBase64 = function () {\n                if (!this._data) {\n                    return this._data;\n                }\n                if (this._isBase64) {\n                    return this._data;\n                }\n                else {\n                    return window.btoa(unescape(this._data));\n                }\n            };\n            DataURL.prototype.toBinaryString = function () {\n                if (!this._data) {\n                    return this._data;\n                }\n                if (this._isBase64) {\n                    return window.atob(this._data);\n                }\n                else {\n                    return unescape(this._data);\n                }\n            };\n            DataURL.prototype.toUnicodeString = function () {\n                if (!this._data) {\n                    return this._data;\n                }\n                if (this._isBase64) {\n                    return decodeURIComponent(escape(window.atob(this._data)));\n                }\n                else {\n                    return decodeURIComponent(this._data);\n                }\n            };\n            DataURL.createFromBase64 = function (base64, options) {\n                return new DataURL(\"data:;base64,\" + base64, options);\n            };\n            DataURL.createFromBinaryString = function (binary, options) {\n                if (!options) {\n                    options = {\n                        encoding: \"auto\"\n                    };\n                }\n                if (options.encoding === \"base64\" || options.encoding === \"auto\") {\n                    return new DataURL(\"data:;base64,\" + window.btoa(binary), options);\n                }\n                else if (options.encoding === \"url\") {\n                    return new DataURL(\"data:,\" + encodeURIComponent(binary), options);\n                }\n            };\n            DataURL.createFromUnicodeString = function (text, options) {\n                return new DataURL(\"data:,\" + encodeURIComponent(text), options);\n            };\n            return DataURL;\n        })();\n        Core.DataURL = DataURL;\n    })(Core = SpicyPixel.Core || (SpicyPixel.Core = {}));\n})(SpicyPixel || (SpicyPixel = {}));\n\n/**\n * media-type\n * @author Lovell Fuller (original JS)\n * @author Aaron Oneal (TypeScript)\n *\n * This code is distributed under the Apache License Version 2.0, the terms of\n * which may be found at http://www.apache.org/licenses/LICENSE-2.0.html\n */\nvar SpicyPixel;\n(function (SpicyPixel) {\n    var Core;\n    (function (Core) {\n        var mediaTypeMatcher = /^(application|audio|image|message|model|multipart|text|video)\\/([a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]{1,127})(;.*)?$/;\n        var parameterSplitter = /;(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*(?![^\\\"]*\\\"))/;\n        var MediaType = (function () {\n            function MediaType(mediaType) {\n                var _this = this;\n                this._type = null;\n                this.setSubtypeAndSuffix(null);\n                this._parameters = {};\n                if (mediaType) {\n                    var match = mediaType.match(mediaTypeMatcher);\n                    if (match) {\n                        this._type = match[1];\n                        this.setSubtypeAndSuffix(match[2]);\n                        if (match[3]) {\n                            match[3].substr(1).split(parameterSplitter).forEach(function (parameter) {\n                                var keyAndValue = parameter.split('=', 2);\n                                if (keyAndValue.length === 2) {\n                                    _this._parameters[keyAndValue[0].toLowerCase().trim()] = _this.unwrapQuotes(keyAndValue[1].trim());\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n            Object.defineProperty(MediaType.prototype, \"type\", {\n                get: function () {\n                    return this._type;\n                },\n                set: function (type) {\n                    this._type = type;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"subtype\", {\n                get: function () {\n                    return this._subtype;\n                },\n                set: function (subtype) {\n                    this.setSubtypeAndSuffix(subtype);\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"parameters\", {\n                get: function () {\n                    return this._parameters;\n                },\n                set: function (parameters) {\n                    this._parameters = parameters;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"isValid\", {\n                get: function () {\n                    return this._type !== null && this._subtype !== null && this._subtype !== \"example\";\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"hasSuffix\", {\n                get: function () {\n                    return !!this._suffix;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"isVendor\", {\n                get: function () {\n                    return this.firstSubtypeFacetEquals(\"vnd\");\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"isPersonal\", {\n                get: function () {\n                    return this.firstSubtypeFacetEquals(\"prs\");\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(MediaType.prototype, \"isExperimental\", {\n                get: function () {\n                    return this.firstSubtypeFacetEquals(\"x\") || this._subtype.substring(0, 2).toLowerCase() === \"x-\";\n                },\n                enumerable: true,\n                configurable: true\n            });\n            MediaType.prototype.toString = function () {\n                var _this = this;\n                var str = \"\";\n                if (this.isValid) {\n                    str = str + this._type + \"/\" + this._subtype;\n                    if (this.hasSuffix) {\n                        str = str + \"+\" + this._suffix;\n                    }\n                    var parameterKeys = Object.keys(this._parameters);\n                    if (parameterKeys.length > 0) {\n                        var parameters = [];\n                        var that = this;\n                        parameterKeys.sort(function (a, b) {\n                            return a.localeCompare(b);\n                        }).forEach(function (element) {\n                            parameters.push(element + \"=\" + _this.wrapQuotes(that._parameters[element]));\n                        });\n                        str = str + \";\" + parameters.join(\";\");\n                    }\n                }\n                return str;\n            };\n            MediaType.prototype.toJSON = function () {\n                return this.toString();\n            };\n            MediaType.prototype.valueOf = function () {\n                return this.toString();\n            };\n            MediaType.prototype.setSubtypeAndSuffix = function (subtype) {\n                this._subtype = subtype;\n                this._subtypeFacets = [];\n                this._suffix = null;\n                if (subtype) {\n                    if (subtype.indexOf(\"+\") > -1 && subtype.substr(-1) !== \"+\") {\n                        var fixes = subtype.split(\"+\", 2);\n                        this._subtype = fixes[0];\n                        this._subtypeFacets = fixes[0].split(\".\");\n                        this._suffix = fixes[1];\n                    }\n                    else {\n                        this._subtypeFacets = subtype.split(\".\");\n                    }\n                }\n            };\n            MediaType.prototype.firstSubtypeFacetEquals = function (str) {\n                return this._subtypeFacets.length > 0 && this._subtypeFacets[0] === str;\n            };\n            MediaType.prototype.wrapQuotes = function (str) {\n                return (str.indexOf(\";\") > -1) ? '\"' + str + '\"' : str;\n            };\n            MediaType.prototype.unwrapQuotes = function (str) {\n                return (str.substr(0, 1) === '\"' && str.substr(-1) === '\"') ? str.substr(1, str.length - 2) : str;\n            };\n            return MediaType;\n        })();\n        Core.MediaType = MediaType;\n    })(Core = SpicyPixel.Core || (SpicyPixel.Core = {}));\n})(SpicyPixel || (SpicyPixel = {}));\n\nvar SpicyPixel;\n(function (SpicyPixel) {\n    var Core;\n    (function (Core) {\n        var Imports = (function () {\n            function Imports() {\n            }\n            return Imports;\n        })();\n        Core.Imports = Imports;\n    })(Core = SpicyPixel.Core || (SpicyPixel.Core = {}));\n})(SpicyPixel || (SpicyPixel = {}));\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD anonymous module\n        define([], factory);\n    }\n    else if (typeof exports === 'object') {\n        // CommonJS anonymous module\n        module.exports = factory();\n    }\n    else {\n        // Browser globals\n        root.SpicyPixel = root.SpicyPixel || {};\n        root.SpicyPixel.Core = factory();\n    }\n})(this, function () {\n    return SpicyPixel.Core;\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFycmF5QnVmZmVyQ29udmVydGVyLnRzIiwiRGF0YVVSTC50cyIsIk1lZGlhVHlwZS50cyIsIlVuaXZlcnNhbE1vZHVsZS50cyJdLCJuYW1lcyI6WyJTcGljeVBpeGVsIiwiU3BpY3lQaXhlbC5Db3JlIiwiU3BpY3lQaXhlbC5Db3JlLkFycmF5QnVmZmVyQ29udmVydGVyIiwiU3BpY3lQaXhlbC5Db3JlLkFycmF5QnVmZmVyQ29udmVydGVyLmNvbnN0cnVjdG9yIiwiU3BpY3lQaXhlbC5Db3JlLkFycmF5QnVmZmVyQ29udmVydGVyLnRvQmFzZTY0IiwiU3BpY3lQaXhlbC5Db3JlLkFycmF5QnVmZmVyQ29udmVydGVyLmZyb21CYXNlNjQiLCJTcGljeVBpeGVsLkNvcmUuQXJyYXlCdWZmZXJDb252ZXJ0ZXIudG9CaW5hcnlTdHJpbmciLCJTcGljeVBpeGVsLkNvcmUuQXJyYXlCdWZmZXJDb252ZXJ0ZXIuZnJvbUJpbmFyeVN0cmluZyIsIlNwaWN5UGl4ZWwuQ29yZS5EYXRhVVJMIiwiU3BpY3lQaXhlbC5Db3JlLkRhdGFVUkwuY29uc3RydWN0b3IiLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC5tZWRpYVR5cGUiLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC5pc0Jhc2U2NCIsIlNwaWN5UGl4ZWwuQ29yZS5EYXRhVVJMLmRhdGEiLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC5zZXRCYXNlNjRFbmNvZGVkRGF0YSIsIlNwaWN5UGl4ZWwuQ29yZS5EYXRhVVJMLnNldFVSTEVuY29kZWREYXRhIiwiU3BpY3lQaXhlbC5Db3JlLkRhdGFVUkwudG9TdHJpbmciLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC50b0pTT04iLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC52YWx1ZU9mIiwiU3BpY3lQaXhlbC5Db3JlLkRhdGFVUkwudG9BcnJheUJ1ZmZlciIsIlNwaWN5UGl4ZWwuQ29yZS5EYXRhVVJMLnRvQmFzZTY0IiwiU3BpY3lQaXhlbC5Db3JlLkRhdGFVUkwudG9CaW5hcnlTdHJpbmciLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC50b1VuaWNvZGVTdHJpbmciLCJTcGljeVBpeGVsLkNvcmUuRGF0YVVSTC5jcmVhdGVGcm9tQmFzZTY0IiwiU3BpY3lQaXhlbC5Db3JlLkRhdGFVUkwuY3JlYXRlRnJvbUJpbmFyeVN0cmluZyIsIlNwaWN5UGl4ZWwuQ29yZS5EYXRhVVJMLmNyZWF0ZUZyb21Vbmljb2RlU3RyaW5nIiwiU3BpY3lQaXhlbC5Db3JlLk1lZGlhVHlwZSIsIlNwaWN5UGl4ZWwuQ29yZS5NZWRpYVR5cGUuY29uc3RydWN0b3IiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLnR5cGUiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLnN1YnR5cGUiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLnBhcmFtZXRlcnMiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLmlzVmFsaWQiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLmhhc1N1ZmZpeCIsIlNwaWN5UGl4ZWwuQ29yZS5NZWRpYVR5cGUuaXNWZW5kb3IiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLmlzUGVyc29uYWwiLCJTcGljeVBpeGVsLkNvcmUuTWVkaWFUeXBlLmlzRXhwZXJpbWVudGFsIiwiU3BpY3lQaXhlbC5Db3JlLk1lZGlhVHlwZS50b1N0cmluZyIsIlNwaWN5UGl4ZWwuQ29yZS5NZWRpYVR5cGUudG9KU09OIiwiU3BpY3lQaXhlbC5Db3JlLk1lZGlhVHlwZS52YWx1ZU9mIiwiU3BpY3lQaXhlbC5Db3JlLk1lZGlhVHlwZS5zZXRTdWJ0eXBlQW5kU3VmZml4IiwiU3BpY3lQaXhlbC5Db3JlLk1lZGlhVHlwZS5maXJzdFN1YnR5cGVGYWNldEVxdWFscyIsIlNwaWN5UGl4ZWwuQ29yZS5NZWRpYVR5cGUud3JhcFF1b3RlcyIsIlNwaWN5UGl4ZWwuQ29yZS5NZWRpYVR5cGUudW53cmFwUXVvdGVzIiwiU3BpY3lQaXhlbC5Db3JlLkltcG9ydHMiLCJTcGljeVBpeGVsLkNvcmUuSW1w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LENBQUNBO2dCQUN4QkEsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ1ZBLElBQUlBLFFBQWVBLEVBQUVBLFFBQWVBLEVBQUVBLFFBQWVBLEVBQUVBLFFBQWVBLENBQUNBO2dCQUV2RUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3RDQSxZQUFZQSxFQUFFQSxDQUFDQTtvQkFDZkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ3RDQSxZQUFZQSxFQUFFQSxDQUFDQTtvQkFDakJBLENBQUNBO2dCQUNIQSxDQUFDQTtnQkFFREEsSUFBSUEsV0FBV0EsR0FBR0EsSUFBSUEsV0FBV0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFDN0NBLEtBQUtBLEdBQUdBLElBQUlBLFVBQVVBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO2dCQUV0Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsRUFBRUEsQ0FBQ0EsSUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7b0JBQzlCQSxRQUFRQSxHQUFHQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDcENBLFFBQVFBLEdBQUdBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUN0Q0EsUUFBUUEsR0FBR0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3RDQSxRQUFRQSxHQUFH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TSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0MsQUFDQSx1QkFEdUI7UUFDdkIsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sT0FBTyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDdkMsQUFDQSw0QkFENEI7UUFDNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixBQUNBLGtCQURrQjtRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLE9BQU8sRUFBRSxDQUFDO0lBQ25DLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7SUFDUCxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztBQUN6QixDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJzcGljeXBpeGVsLWNvcmUuanMiLCJzb3VyY2VSb290Ijoic3JjLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZSBTcGljeVBpeGVsLkNvcmUge1xuICB2YXIgY2hhcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuICBleHBvcnQgY2xhc3MgQXJyYXlCdWZmZXJDb252ZXJ0ZXJcbiAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGNsYXNzIGlzIHN0YXRpYyBhbmQgbm90IG1lYW50IHRvIGJlIGNvbnN0cnVjdGVkJyk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBCYXNlNjQgY29udmVyc2lvbiBmcm9tOlxuICAgICAqXG4gICAgICogYmFzZTY0LWFycmF5YnVmZmVyXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlclxuICAgICAqXG4gICAgICogQ29weXJpZ2h0IChjKSAyMDEyIE5pa2xhcyB2b24gSGVydHplblxuICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgdG9CYXNlNjQoYXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIpOnN0cmluZyB7XG4gICAgICAvLyBqc2hpbnQgYml0d2lzZTpmYWxzZVxuICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aDtcbiAgICAgIHZhciBiYXNlNjQgPSBcIlwiO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSs9Mykge1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgICB9XG5cbiAgICAgIGlmICgobGVuICUgMykgPT09IDIpIHtcbiAgICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMSkgKyBcIj1cIjtcbiAgICAgIH0gZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArIFwiPT1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhc2U2NDtcbiAgICAgIC8vIGpzaGludCBiaXR3aXNlOnRydWVcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUJhc2U2NChiYXNlNjQ6c3RyaW5nKTpBcnJheUJ1ZmZlciB7XG4gICAgICAvLyBqc2hpbnQgYml0d2lzZTpmYWxzZVxuICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGJhc2U2NC5sZW5ndGggKiAwLjc1O1xuICAgICAgdmFyIGxlbiA9IGJhc2U2NC5sZW5ndGg7XG4gICAgICB2YXIgcCA9IDA7XG4gICAgICB2YXIgZW5jb2RlZDE6bnVtYmVyLCBlbmNvZGVkMjpudW1iZXIsIGVuY29kZWQzOm51bWJlciwgZW5jb2RlZDQ6bnVtYmVyO1xuXG4gICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gXCI9XCIpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSBcIj1cIikge1xuICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLFxuICAgICAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrPTQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBjaGFycy5pbmRleE9mKGJhc2U2NFtpXSk7XG4gICAgICAgIGVuY29kZWQyID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSsxXSk7XG4gICAgICAgIGVuY29kZWQzID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSsyXSk7XG4gICAgICAgIGVuY29kZWQ0ID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSszXSk7XG5cbiAgICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMSA8PCAyKSB8IChlbmNvZGVkMiA+PiA0KTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDIgJiAxNSkgPDwgNCkgfCAoZW5jb2RlZDMgPj4gMik7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQzICYgMykgPDwgNikgfCAoZW5jb2RlZDQgJiA2Myk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhcnJheWJ1ZmZlcjtcbiAgICAgIC8vIGpzaGludCBiaXR3aXNlOnRydWVcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9CaW5hcnlTdHJpbmcoYXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIpOnN0cmluZyB7XG4gICAgICB2YXIgYmluYXJ5ID0gXCJcIjtcbiAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgIHZhciBsZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgICAgICArK2k7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmluYXJ5O1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQmluYXJ5U3RyaW5nKGJpbmFyeTpzdHJpbmcpOkFycmF5QnVmZmVyIHtcbiAgICAgIHZhciBsZW5ndGggPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBjb2RlID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID4gMjU1KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYSBtdWx0aWJ5dGUgY2hhcmFjdGVyIHdhcyBlbmNvdW50ZXJlZCBpbiB0aGUgcHJvdmlkZWQgc3RyaW5nIHdoaWNoIGluZGljYXRlcyBpdCB3YXMgbm90IGVuY29kZWQgYXMgYSBiaW5hcnkgc3RyaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVzW2ldID0gY29kZTtcbiAgICAgICAgKytpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ5dGVzLmJ1ZmZlcjtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIFRPRE86IE9wdGltaXplIHVzaW5nIGRlZmVycmVkIHBhcnNpbmcuXG4vLyBJZiBhIGRhdGEgVVJMIHN0cmluZyBpcyBwYXNzZWQgaW4gYW5kIHRoZSBvbmx5IG9wZXJhdGlvbiBjYWxsZWQgaXNcbi8vIHRvU3RyaW5nKCkgdGhlbiB0aGVyZSBpcyBubyBuZWVkIHRvIHBhcnNlIGFuZCBpbmNyZWFzZVxuLy8gbWVtb3J5IGNvbnN1bXB0aW9uLiBUaGlzIHdvdWxkIGNvbXBsaWNhdGUgdGhlIGNvZGUgdGhvdWdoXG4vLyBzbyBvbmx5IGltcGxlbWVudCBpZiBuZWVkZWQuXG5cbmRlY2xhcmUgdmFyIGVzY2FwZTooczpzdHJpbmcpID0+IHN0cmluZztcbmRlY2xhcmUgdmFyIHVuZXNjYXBlOihzOnN0cmluZykgPT4gc3RyaW5nO1xuXG5tb2R1bGUgU3BpY3lQaXhlbC5Db3JlIHtcbiAgLy8gZGF0YTpbPE1JTUUtdHlwZT5dWztjaGFyc2V0PTxlbmNvZGluZz5dWztiYXNlNjRdLDxkYXRhPlxuXG4gIC8vIGRhdGF1cmwgICAgOj0gXCJkYXRhOlwiIFsgbWVkaWF0eXBlIF0gWyBcIjtiYXNlNjRcIiBdIFwiLFwiIGRhdGFcbiAgLy8gbWVkaWF0eXBlICA6PSBbIHR5cGUgXCIvXCIgc3VidHlwZSBdICooIFwiO1wiIHBhcmFtZXRlciApXG4gIC8vIGRhdGEgICAgICAgOj0gKnVybGNoYXJcbiAgLy8gcGFyYW1ldGVyICA6PSBhdHRyaWJ1dGUgXCI9XCIgdmFsdWVcbiAgZXhwb3J0IGNsYXNzIERhdGFVUkwge1xuICAgIHByaXZhdGUgX21lZGlhVHlwZTpNZWRpYVR5cGU7XG4gICAgcHJpdmF0ZSBfaXNCYXNlNjQ6Ym9vbGVhbjtcbiAgICBwcml2YXRlIF9kYXRhOnN0cmluZztcblxuICAgIGdldCBtZWRpYVR5cGUoKTpNZWRpYVR5cGUge1xuICAgICAgcmV0dXJuIHRoaXMuX21lZGlhVHlwZTtcbiAgICB9XG5cbiAgICBzZXQgbWVkaWFUeXBlKG1lZGlhVHlwZTpNZWRpYVR5cGUpIHtcbiAgICAgIGlmKG1lZGlhVHlwZSBpbnN0YW5jZW9mIE1lZGlhVHlwZSkge1xuICAgICAgICB0aGlzLl9tZWRpYVR5cGUgPSBtZWRpYVR5cGU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgbWVkaWFUeXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRoaXMuX21lZGlhVHlwZSA9IG5ldyBNZWRpYVR5cGUoPHN0cmluZz48YW55Pm1lZGlhVHlwZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWVkaWEgdHlwZSBtdXN0IGJlICdzdHJpbmcnIG9yICdNZWRpYVR5cGUnXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpc0Jhc2U2NCgpOmJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzQmFzZTY0O1xuICAgIH1cblxuICAgIGdldCBkYXRhKCk6c3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cblxuICAgIHNldEJhc2U2NEVuY29kZWREYXRhKGJhc2U2NEVuY29kZWREYXRhOnN0cmluZyk6dm9pZCB7XG4gICAgICB0aGlzLl9pc0Jhc2U2NCA9IHRydWU7XG4gICAgICB0aGlzLl9kYXRhID0gYmFzZTY0RW5jb2RlZERhdGE7XG4gICAgfVxuXG4gICAgc2V0VVJMRW5jb2RlZERhdGEodXJsRW5jb2RlZERhdGE6c3RyaW5nKTp2b2lkIHtcbiAgICAgIHRoaXMuX2lzQmFzZTY0ID0gZmFsc2U7XG4gICAgICB0aGlzLl9kYXRhID0gdXJsRW5jb2RlZERhdGE7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZGF0YTphbnksIG9wdGlvbnM/OmFueSkge1xuICAgICAgLy8gU2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgbWVkaWFUeXBlOiBudWxsLFxuICAgICAgICAgIGVuY29kaW5nOiBcImF1dG9cIlxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZighb3B0aW9ucy5lbmNvZGluZykge1xuICAgICAgICBvcHRpb25zLmVuY29kaW5nID0gXCJhdXRvXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGVuY29kaW5nXG4gICAgICBpZiAob3B0aW9ucy5lbmNvZGluZyAhPT0gXCJhdXRvXCIgJiYgb3B0aW9ucy5lbmNvZGluZyAhPT0gXCJ1cmxcIiAmJiBvcHRpb25zLmVuY29kaW5nICE9PSBcImJhc2U2NFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmcgKG11c3QgYmUgJ2F1dG8nLCAndXJsJywgb3IgJ2Jhc2U2NCcpOiBcIiArIG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBTYXZlIG1lZGlhIHR5cGVcbiAgICAgIHZhciBtZWRpYVR5cGU6YW55ID0gb3B0aW9ucy5tZWRpYVR5cGU7XG4gICAgICBpZiAodHlwZW9mIG1lZGlhVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBtZWRpYVR5cGUgPSBuZXcgTWVkaWFUeXBlKG1lZGlhVHlwZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tZWRpYVR5cGUgPSBtZWRpYVR5cGU7XG5cbiAgICAgIC8vIFNhdmUgZGF0YSBhbmQgcmV0dXJuIGlmIG5vbmVcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICB0aGlzLl9pc0Jhc2U2NCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQYXJzZSBkYXRhXG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcImJhc2U2NFwiIHx8IG9wdGlvbnMuZW5jb2RpbmcgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgdGhpcy5zZXRCYXNlNjRFbmNvZGVkRGF0YShBcnJheUJ1ZmZlckNvbnZlcnRlci50b0Jhc2U2NChkYXRhKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lbmNvZGluZyA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgIHRoaXMuc2V0VVJMRW5jb2RlZERhdGEoZW5jb2RlVVJJQ29tcG9uZW50KEFycmF5QnVmZmVyQ29udmVydGVyLnRvQmluYXJ5U3RyaW5nKGRhdGEpKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoaXMgaXMgYSBkYXRhIFVSSVxuICAgICAgICB2YXIgc3RhcnRzV2l0aERhdGEgPSBkYXRhLnNsaWNlKDAsIFwiZGF0YTpcIi5sZW5ndGgpID09PSBcImRhdGE6XCI7XG4gICAgICAgIGlmICghc3RhcnRzV2l0aERhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5ICdkYXRhJyBVUkkgc3RyaW5ncyBhcmUgc3VwcG9ydGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCB0aGUgY29tbWEgdGhhdCBzZXBhcmF0ZXMgdGhlIHByZWZpeCBmcm9tIHRoZSBkYXRhXG4gICAgICAgIHZhciBjb21tYUluZGV4ID0gZGF0YS5pbmRleE9mKFwiLFwiKTtcbiAgICAgICAgaWYgKGNvbW1hSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb21tYSBpbiBTUUxCbG9iIFVSTFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBwcmVmaXggYW5kIGRhdGFcbiAgICAgICAgdmFyIHByZWZpeCA9IGRhdGEuc2xpY2UoMCwgY29tbWFJbmRleCk7XG4gICAgICAgIHZhciBlbmNvZGVkRGF0YSA9IGRhdGEuc2xpY2UoY29tbWFJbmRleCArIDEpO1xuXG4gICAgICAgIC8vIEdldCBpcyBiYXNlNjRcbiAgICAgICAgdmFyIHByZWZpeFBhcnRzID0gcHJlZml4LnNwbGl0KCc7Jyk7XG4gICAgICAgIHZhciBpc0Jhc2U2NCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHByZWZpeFBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFyIHByZWZpeFBhcnQgPSBwcmVmaXhQYXJ0c1tpXS50cmltKCk7XG4gICAgICAgICAgaWYgKHByZWZpeFBhcnQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgIGlzQmFzZTY0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBtZWRpYSB0eXBlXG4gICAgICAgIG1lZGlhVHlwZSA9IHByZWZpeC5zbGljZShcImRhdGE6XCIubGVuZ3RoLCBjb21tYUluZGV4KTtcbiAgICAgICAgbWVkaWFUeXBlID0gbWVkaWFUeXBlLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBtZWRpYVR5cGU7XG4gICAgICAgIHRoaXMuX21lZGlhVHlwZSA9IHRoaXMuX21lZGlhVHlwZSB8fCBuZXcgTWVkaWFUeXBlKG1lZGlhVHlwZSk7XG5cbiAgICAgICAgLy8gQ29udmVydCBlbmNvZGVkIGRhdGEgYXMgbmVlZGVkXG4gICAgICAgIGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcImF1dG9cIikge1xuICAgICAgICAgIC8vIEF1dG8gZW5jb2Rpbmcgc2F2ZXMgdGhlIGRhdGEgVVJJIGFzIGlzXG4gICAgICAgICAgdGhpcy5faXNCYXNlNjQgPSBpc0Jhc2U2NDtcbiAgICAgICAgICB0aGlzLl9kYXRhID0gZW5jb2RlZERhdGE7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lbmNvZGluZyA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgIC8vIENvbnZlcnQgdG8gYmFzZTY0XG4gICAgICAgICAgdGhpcy5faXNCYXNlNjQgPSB0cnVlO1xuICAgICAgICAgIGlmIChpc0Jhc2U2NCkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGVuY29kZWREYXRhO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gd2luZG93LmJ0b2EodW5lc2NhcGUoZW5jb2RlZERhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lbmNvZGluZyA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgIC8vIENvbnZlcnQgdG8gVVJMIGVuY29kaW5nXG4gICAgICAgICAgdGhpcy5faXNCYXNlNjQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIWlzQmFzZTY0KSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gZW5jb2RlZERhdGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmF0b2IoZW5jb2RlZERhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIG9iamVjdCB0eXBlIChtdXN0IGJlIEFycmF5QnVmZmVyIG9yIHN0cmluZyk6IFwiICsgdHlwZW9mIGRhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6c3RyaW5nIHtcbiAgICAgIHJldHVybiBcImRhdGE6XCJcbiAgICAgICAgKyAodGhpcy5fbWVkaWFUeXBlID8gdGhpcy5fbWVkaWFUeXBlLnRvU3RyaW5nKCkgOiBcIlwiKVxuICAgICAgICArICh0aGlzLl9pc0Jhc2U2NCA/IFwiO2Jhc2U2NFwiIDogXCJcIikgKyBcIixcIlxuICAgICAgICArICh0aGlzLl9kYXRhID8gdGhpcy5fZGF0YSA6IFwiXCIpO1xuICAgIH1cblxuICAgIHRvSlNPTigpOnN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHZhbHVlT2YoKTpzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICB0b0FycmF5QnVmZmVyKCk6QXJyYXlCdWZmZXIge1xuICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQmFzZTY0KSB7XG4gICAgICAgIHJldHVybiBBcnJheUJ1ZmZlckNvbnZlcnRlci5mcm9tQmFzZTY0KHRoaXMuX2RhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEFycmF5QnVmZmVyQ29udmVydGVyLmZyb21CaW5hcnlTdHJpbmcodW5lc2NhcGUodGhpcy5fZGF0YSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRvQmFzZTY0KCk6c3RyaW5nIHtcbiAgICAgIGlmICghdGhpcy5fZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9pc0Jhc2U2NCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYnRvYSh1bmVzY2FwZSh0aGlzLl9kYXRhKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdG9CaW5hcnlTdHJpbmcoKTpzdHJpbmcge1xuICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQmFzZTY0KSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYXRvYih0aGlzLl9kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmVzY2FwZSh0aGlzLl9kYXRhKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0b1VuaWNvZGVTdHJpbmcoKTpzdHJpbmcge1xuICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQmFzZTY0KSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHdpbmRvdy5hdG9iKHRoaXMuX2RhdGEpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuX2RhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVGcm9tQmFzZTY0KGJhc2U2NDpzdHJpbmcsIG9wdGlvbnM/OmFueSk6RGF0YVVSTCB7XG4gICAgICByZXR1cm4gbmV3IERhdGFVUkwoXCJkYXRhOjtiYXNlNjQsXCIgKyBiYXNlNjQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVGcm9tQmluYXJ5U3RyaW5nKGJpbmFyeTpzdHJpbmcsIG9wdGlvbnM/OmFueSk6RGF0YVVSTCB7XG4gICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICBlbmNvZGluZzogXCJhdXRvXCJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcImJhc2U2NFwiIHx8IG9wdGlvbnMuZW5jb2RpbmcgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVVSTChcImRhdGE6O2Jhc2U2NCxcIiArIHdpbmRvdy5idG9hKGJpbmFyeSksIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVuY29kaW5nID09PSBcInVybFwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YVVSTChcImRhdGE6LFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJpbmFyeSksIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVGcm9tVW5pY29kZVN0cmluZyh0ZXh0OnN0cmluZywgb3B0aW9ucz86YW55KTpEYXRhVVJMIHtcbiAgICAgIHJldHVybiBuZXcgRGF0YVVSTChcImRhdGE6LFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogbWVkaWEtdHlwZVxuICogQGF1dGhvciBMb3ZlbGwgRnVsbGVyIChvcmlnaW5hbCBKUylcbiAqIEBhdXRob3IgQWFyb24gT25lYWwgKFR5cGVTY3JpcHQpXG4gKlxuICogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgdGhlIHRlcm1zIG9mXG4gKiB3aGljaCBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wLmh0bWxcbiAqL1xuXG5tb2R1bGUgU3BpY3lQaXhlbC5Db3JlIHtcbiAgdmFyIG1lZGlhVHlwZU1hdGNoZXIgPSAvXihhcHBsaWNhdGlvbnxhdWRpb3xpbWFnZXxtZXNzYWdlfG1vZGVsfG11bHRpcGFydHx0ZXh0fHZpZGVvKVxcLyhbYS16QS1aMC05ISMkJV4mXFwqX1xcLVxcK3t9XFx8Jy5gfl17MSwxMjd9KSg7LiopPyQvO1xuICB2YXIgcGFyYW1ldGVyU3BsaXR0ZXIgPSAvOyg/PSg/OlteXFxcIl0qXFxcIlteXFxcIl0qXFxcIikqKD8hW15cXFwiXSpcXFwiKSkvO1xuXG4gIGV4cG9ydCBjbGFzcyBNZWRpYVR5cGUge1xuICAgIHByaXZhdGUgX3R5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgX3N1YnR5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgX3BhcmFtZXRlcnM6YW55O1xuICAgIHByaXZhdGUgX3N1ZmZpeDpzdHJpbmc7XG4gICAgcHJpdmF0ZSBfc3VidHlwZUZhY2V0czpzdHJpbmdbXTtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhVHlwZT86c3RyaW5nKSB7XG4gICAgICB0aGlzLl90eXBlID0gbnVsbDtcbiAgICAgIHRoaXMuc2V0U3VidHlwZUFuZFN1ZmZpeChudWxsKTtcbiAgICAgIHRoaXMuX3BhcmFtZXRlcnMgPSB7fTtcblxuICAgICAgaWYgKG1lZGlhVHlwZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBtZWRpYVR5cGUubWF0Y2gobWVkaWFUeXBlTWF0Y2hlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIHRoaXMuX3R5cGUgPSBtYXRjaFsxXTtcbiAgICAgICAgICB0aGlzLnNldFN1YnR5cGVBbmRTdWZmaXgobWF0Y2hbMl0pO1xuICAgICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgbWF0Y2hbM10uc3Vic3RyKDEpLnNwbGl0KHBhcmFtZXRlclNwbGl0dGVyKS5mb3JFYWNoKChwYXJhbWV0ZXIpID0+IHtcbiAgICAgICAgICAgICAgdmFyIGtleUFuZFZhbHVlID0gcGFyYW1ldGVyLnNwbGl0KCc9JywgMik7XG4gICAgICAgICAgICAgIGlmIChrZXlBbmRWYWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzW2tleUFuZFZhbHVlWzBdLnRvTG93ZXJDYXNlKCkudHJpbSgpXSA9IHRoaXMudW53cmFwUXVvdGVzKGtleUFuZFZhbHVlWzFdLnRyaW0oKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGdldCB0eXBlKCk6c3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIHNldCB0eXBlKHR5cGU6c3RyaW5nKSB7XG4gICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgc3VidHlwZSgpOnN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5fc3VidHlwZTtcbiAgICB9XG5cbiAgICBzZXQgc3VidHlwZShzdWJ0eXBlOnN0cmluZykge1xuICAgICAgdGhpcy5zZXRTdWJ0eXBlQW5kU3VmZml4KHN1YnR5cGUpO1xuICAgIH1cblxuICAgIGdldCBwYXJhbWV0ZXJzKCk6YW55IHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIHNldCBwYXJhbWV0ZXJzKHBhcmFtZXRlcnM6YW55KSB7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICB9XG5cbiAgICBnZXQgaXNWYWxpZCgpOmJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3R5cGUgIT09IG51bGwgJiYgdGhpcy5fc3VidHlwZSAhPT0gbnVsbCAmJiB0aGlzLl9zdWJ0eXBlICE9PSBcImV4YW1wbGVcIjtcbiAgICB9XG5cbiAgICBnZXQgaGFzU3VmZml4KCk6Ym9vbGVhbiB7XG4gICAgICByZXR1cm4gISF0aGlzLl9zdWZmaXg7XG4gICAgfVxuXG4gICAgZ2V0IGlzVmVuZG9yKCk6Ym9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdFN1YnR5cGVGYWNldEVxdWFscyhcInZuZFwiKTtcbiAgICB9XG5cbiAgICBnZXQgaXNQZXJzb25hbCgpOmJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3RTdWJ0eXBlRmFjZXRFcXVhbHMoXCJwcnNcIik7XG4gICAgfVxuXG4gICAgZ2V0IGlzRXhwZXJpbWVudGFsKCk6Ym9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdFN1YnR5cGVGYWNldEVxdWFscyhcInhcIikgfHwgdGhpcy5fc3VidHlwZS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSA9PT0gXCJ4LVwiO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6c3RyaW5nIHtcbiAgICAgIHZhciBzdHIgPSBcIlwiO1xuICAgICAgaWYgKHRoaXMuaXNWYWxpZCkge1xuICAgICAgICBzdHIgPSBzdHIgKyB0aGlzLl90eXBlICsgXCIvXCIgKyB0aGlzLl9zdWJ0eXBlO1xuICAgICAgICBpZiAodGhpcy5oYXNTdWZmaXgpIHtcbiAgICAgICAgICBzdHIgPSBzdHIgKyBcIitcIiArIHRoaXMuX3N1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1ldGVyS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3BhcmFtZXRlcnMpO1xuICAgICAgICBpZiAocGFyYW1ldGVyS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIHBhcmFtZXRlcnM6c3RyaW5nW10gPSBbXTtcbiAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgcGFyYW1ldGVyS2V5cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS5sb2NhbGVDb21wYXJlKGIpO1xuICAgICAgICAgIH0pLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChlbGVtZW50ICsgXCI9XCIgKyB0aGlzLndyYXBRdW90ZXModGhhdC5fcGFyYW1ldGVyc1tlbGVtZW50XSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0ciA9IHN0ciArIFwiO1wiICsgcGFyYW1ldGVycy5qb2luKFwiO1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB0b0pTT04oKTpzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICB2YWx1ZU9mKCk6c3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTdWJ0eXBlQW5kU3VmZml4KHN1YnR5cGU6c3RyaW5nKTp2b2lkIHtcbiAgICAgIHRoaXMuX3N1YnR5cGUgPSBzdWJ0eXBlO1xuICAgICAgdGhpcy5fc3VidHlwZUZhY2V0cyA9IFtdO1xuICAgICAgdGhpcy5fc3VmZml4ID0gbnVsbDtcbiAgICAgIGlmIChzdWJ0eXBlKSB7XG4gICAgICAgIGlmIChzdWJ0eXBlLmluZGV4T2YoXCIrXCIpID4gLTEgJiYgc3VidHlwZS5zdWJzdHIoLTEpICE9PSBcIitcIikge1xuICAgICAgICAgIHZhciBmaXhlcyA9IHN1YnR5cGUuc3BsaXQoXCIrXCIsIDIpO1xuICAgICAgICAgIHRoaXMuX3N1YnR5cGUgPSBmaXhlc1swXTtcbiAgICAgICAgICB0aGlzLl9zdWJ0eXBlRmFjZXRzID0gZml4ZXNbMF0uc3BsaXQoXCIuXCIpO1xuICAgICAgICAgIHRoaXMuX3N1ZmZpeCA9IGZpeGVzWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3N1YnR5cGVGYWNldHMgPSBzdWJ0eXBlLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZmlyc3RTdWJ0eXBlRmFjZXRFcXVhbHMoc3RyOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5fc3VidHlwZUZhY2V0cy5sZW5ndGggPiAwICYmIHRoaXMuX3N1YnR5cGVGYWNldHNbMF0gPT09IHN0cjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHdyYXBRdW90ZXMoc3RyOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgIHJldHVybiAoc3RyLmluZGV4T2YoXCI7XCIpID4gLTEpID8gJ1wiJyArIHN0ciArICdcIicgOiBzdHI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bndyYXBRdW90ZXMoc3RyOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgIHJldHVybiAoc3RyLnN1YnN0cigwLCAxKSA9PT0gJ1wiJyAmJiBzdHIuc3Vic3RyKC0xKSA9PT0gJ1wiJykgPyBzdHIuc3Vic3RyKDEsIHN0ci5sZW5ndGggLSAyKSA6IHN0cjtcbiAgICB9XG4gIH1cbn1cbiIsIm1vZHVsZSBTcGljeVBpeGVsLkNvcmUge1xuICBleHBvcnQgY2xhc3MgSW1wb3J0cyB7XG4gIH1cbn1cblxuZGVjbGFyZSB2YXIgbW9kdWxlOmFueTtcbmRlY2xhcmUgdmFyIGV4cG9ydHM6YW55O1xuZGVjbGFyZSB2YXIgZGVmaW5lOmFueTtcbmRlY2xhcmUgdmFyIHJlcXVpcmU6YW55O1xuXG4oZnVuY3Rpb24gKHJvb3Q6YW55LCBmYWN0b3J5OmFueSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1EIGFub255bW91cyBtb2R1bGVcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIENvbW1vbkpTIGFub255bW91cyBtb2R1bGVcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICByb290LlNwaWN5UGl4ZWwgPSByb290LlNwaWN5UGl4ZWwgfHwge307XG4gICAgcm9vdC5TcGljeVBpeGVsLkNvcmUgPSBmYWN0b3J5KCk7XG4gIH1cbn0pKHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFNwaWN5UGl4ZWwuQ29yZTtcbn0pOyJdfQ==","// TODO: Optimize using deferred parsing.\n// If a data URL string is passed in and the only operation called is\n// toString() then there is no need to parse and increase\n// memory consumption. This would complicate the code though\n// so only implement if needed.\n\ndeclare var escape:(s:string) => string;\ndeclare var unescape:(s:string) => string;\n\nmodule SpicyPixel.Core {\n  // data:[<MIME-type>][;charset=<encoding>][;base64],<data>\n\n  // dataurl    := \"data:\" [ mediatype ] [ \";base64\" ] \",\" data\n  // mediatype  := [ type \"/\" subtype ] *( \";\" parameter )\n  // data       := *urlchar\n  // parameter  := attribute \"=\" value\n  export class DataURL {\n    private _mediaType:MediaType;\n    private _isBase64:boolean;\n    private _data:string;\n\n    get mediaType():MediaType {\n      return this._mediaType;\n    }\n\n    set mediaType(mediaType:MediaType) {\n      if(mediaType instanceof MediaType) {\n        this._mediaType = mediaType;\n      }\n      else if (typeof mediaType === \"string\") {\n        this._mediaType = new MediaType(<string><any>mediaType);\n      }\n      else {\n        throw new Error(\"Media type must be 'string' or 'MediaType'\");\n      }\n    }\n\n    get isBase64():boolean {\n      return this._isBase64;\n    }\n\n    get data():string {\n      return this._data;\n    }\n\n    setBase64EncodedData(base64EncodedData:string):void {\n      this._isBase64 = true;\n      this._data = base64EncodedData;\n    }\n\n    setURLEncodedData(urlEncodedData:string):void {\n      this._isBase64 = false;\n      this._data = urlEncodedData;\n    }\n\n    constructor(data:any, options?:any) {\n      // Set default options\n      if (!options) {\n        options = {\n          mediaType: null,\n          encoding: \"auto\"\n        };\n      }\n\n      if(!options.encoding) {\n        options.encoding = \"auto\";\n      }\n\n      // Validate encoding\n      if (options.encoding !== \"auto\" && options.encoding !== \"url\" && options.encoding !== \"base64\") {\n        throw new Error(\"Unknown encoding (must be 'auto', 'url', or 'base64'): \" + options.encoding);\n      }\n\n      // Save media type\n      var mediaType:any = options.mediaType;\n      if (typeof mediaType === \"string\") {\n        mediaType = new MediaType(mediaType);\n      }\n      this._mediaType = mediaType;\n\n      // Save data and return if none\n      if (!data) {\n        this._isBase64 = false;\n        this._data = data;\n        return;\n      }\n\n      // Parse data\n      if (data instanceof ArrayBuffer) {\n        if (options.encoding === \"base64\" || options.encoding === \"auto\") {\n          this.setBase64EncodedData(ArrayBufferConverter.toBase64(data));\n        } else if (options.encoding === \"url\") {\n          this.setURLEncodedData(encodeURIComponent(ArrayBufferConverter.toBinaryString(data)));\n        }\n      } else if (typeof data === \"string\") {\n        // Ensure this is a data URI\n        var startsWithData = data.slice(0, \"data:\".length) === \"data:\";\n        if (!startsWithData) {\n          throw new Error(\"Only 'data' URI strings are supported\");\n        }\n\n        // Find the comma that separates the prefix from the data\n        var commaIndex = data.indexOf(\",\");\n        if (commaIndex === -1) {\n          throw new Error(\"Missing comma in SQLBlob URL\");\n        }\n\n        // Get prefix and data\n        var prefix = data.slice(0, commaIndex);\n        var encodedData = data.slice(commaIndex + 1);\n\n        // Get is base64\n        var prefixParts = prefix.split(';');\n        var isBase64 = false;\n        for (var i = 1; i < prefixParts.length; ++i) {\n          var prefixPart = prefixParts[i].trim();\n          if (prefixPart === \"base64\") {\n            isBase64 = true;\n            break;\n          }\n        }\n\n        // Get media type\n        mediaType = prefix.slice(\"data:\".length, commaIndex);\n        mediaType = mediaType.length === 0 ? null : mediaType;\n        this._mediaType = this._mediaType || new MediaType(mediaType);\n\n        // Convert encoded data as needed\n        if (options.encoding === \"auto\") {\n          // Auto encoding saves the data URI as is\n          this._isBase64 = isBase64;\n          this._data = encodedData;\n        } else if (options.encoding === \"base64\") {\n          // Convert to base64\n          this._isBase64 = true;\n          if (isBase64) {\n            this._data = encodedData;\n          } else {\n            this._data = window.btoa(unescape(encodedData));\n          }\n        } else if (options.encoding === \"url\") {\n          // Convert to URL encoding\n          this._isBase64 = false;\n          if (!isBase64) {\n            this._data = encodedData;\n          } else {\n            this._data = encodeURIComponent(window.atob(encodedData));\n          }\n        }\n      } else {\n        throw new Error(\"unsupported object type (must be ArrayBuffer or string): \" + typeof data);\n      }\n    }\n\n    toString():string {\n      return \"data:\"\n        + (this._mediaType ? this._mediaType.toString() : \"\")\n        + (this._isBase64 ? \";base64\" : \"\") + \",\"\n        + (this._data ? this._data : \"\");\n    }\n\n    toJSON():string {\n      return this.toString();\n    }\n\n    valueOf():string {\n      return this.toString();\n    }\n\n    toArrayBuffer():ArrayBuffer {\n      if (!this._data) {\n        return null;\n      }\n      if (this._isBase64) {\n        return ArrayBufferConverter.fromBase64(this._data);\n      } else {\n        return ArrayBufferConverter.fromBinaryString(unescape(this._data));\n      }\n    }\n\n    toBase64():string {\n      if (!this._data) {\n        return this._data;\n      }\n      if (this._isBase64) {\n        return this._data;\n      } else {\n        return window.btoa(unescape(this._data));\n      }\n    }\n\n    toBinaryString():string {\n      if (!this._data) {\n        return this._data;\n      }\n      if (this._isBase64) {\n        return window.atob(this._data);\n      } else {\n        return unescape(this._data);\n      }\n    }\n\n    toUnicodeString():string {\n      if (!this._data) {\n        return this._data;\n      }\n      if (this._isBase64) {\n        return decodeURIComponent(escape(window.atob(this._data)));\n      } else {\n        return decodeURIComponent(this._data);\n      }\n    }\n\n    static createFromBase64(base64:string, options?:any):DataURL {\n      return new DataURL(\"data:;base64,\" + base64, options);\n    }\n\n    static createFromBinaryString(binary:string, options?:any):DataURL {\n      if (!options) {\n        options = {\n          encoding: \"auto\"\n        };\n      }\n      if (options.encoding === \"base64\" || options.encoding === \"auto\") {\n        return new DataURL(\"data:;base64,\" + window.btoa(binary), options);\n      } else if (options.encoding === \"url\") {\n        return new DataURL(\"data:,\" + encodeURIComponent(binary), options);\n      }\n    }\n\n    static createFromUnicodeString(text:string, options?:any):DataURL {\n      return new DataURL(\"data:,\" + encodeURIComponent(text), options);\n    }\n  }\n}\n","/**\n * media-type\n * @author Lovell Fuller (original JS)\n * @author Aaron Oneal (TypeScript)\n *\n * This code is distributed under the Apache License Version 2.0, the terms of\n * which may be found at http://www.apache.org/licenses/LICENSE-2.0.html\n */\n\nmodule SpicyPixel.Core {\n  var mediaTypeMatcher = /^(application|audio|image|message|model|multipart|text|video)\\/([a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]{1,127})(;.*)?$/;\n  var parameterSplitter = /;(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*(?![^\\\"]*\\\"))/;\n\n  export class MediaType {\n    private _type:string;\n    private _subtype:string;\n    private _parameters:any;\n    private _suffix:string;\n    private _subtypeFacets:string[];\n\n    constructor(mediaType?:string) {\n      this._type = null;\n      this.setSubtypeAndSuffix(null);\n      this._parameters = {};\n\n      if (mediaType) {\n        var match = mediaType.match(mediaTypeMatcher);\n        if (match) {\n          this._type = match[1];\n          this.setSubtypeAndSuffix(match[2]);\n          if (match[3]) {\n            match[3].substr(1).split(parameterSplitter).forEach((parameter) => {\n              var keyAndValue = parameter.split('=', 2);\n              if (keyAndValue.length === 2) {\n                this._parameters[keyAndValue[0].toLowerCase().trim()] = this.unwrapQuotes(keyAndValue[1].trim());\n              }\n            });\n          }\n        }\n      }\n    }\n\n    get type():string {\n      return this._type;\n    }\n\n    set type(type:string) {\n      this._type = type;\n    }\n\n    get subtype():string {\n      return this._subtype;\n    }\n\n    set subtype(subtype:string) {\n      this.setSubtypeAndSuffix(subtype);\n    }\n\n    get parameters():any {\n      return this._parameters;\n    }\n\n    set parameters(parameters:any) {\n      this._parameters = parameters;\n    }\n\n    get isValid():boolean {\n      return this._type !== null && this._subtype !== null && this._subtype !== \"example\";\n    }\n\n    get hasSuffix():boolean {\n      return !!this._suffix;\n    }\n\n    get isVendor():boolean {\n      return this.firstSubtypeFacetEquals(\"vnd\");\n    }\n\n    get isPersonal():boolean {\n      return this.firstSubtypeFacetEquals(\"prs\");\n    }\n\n    get isExperimental():boolean {\n      return this.firstSubtypeFacetEquals(\"x\") || this._subtype.substring(0, 2).toLowerCase() === \"x-\";\n    }\n\n    toString():string {\n      var str = \"\";\n      if (this.isValid) {\n        str = str + this._type + \"/\" + this._subtype;\n        if (this.hasSuffix) {\n          str = str + \"+\" + this._suffix;\n        }\n        var parameterKeys = Object.keys(this._parameters);\n        if (parameterKeys.length > 0) {\n          var parameters:string[] = [];\n          var that = this;\n          parameterKeys.sort((a, b) => {\n            return a.localeCompare(b);\n          }).forEach((element) => {\n            parameters.push(element + \"=\" + this.wrapQuotes(that._parameters[element]));\n          });\n          str = str + \";\" + parameters.join(\";\");\n        }\n      }\n      return str;\n    }\n\n    toJSON():string {\n      return this.toString();\n    }\n\n    valueOf():string {\n      return this.toString();\n    }\n\n    private setSubtypeAndSuffix(subtype:string):void {\n      this._subtype = subtype;\n      this._subtypeFacets = [];\n      this._suffix = null;\n      if (subtype) {\n        if (subtype.indexOf(\"+\") > -1 && subtype.substr(-1) !== \"+\") {\n          var fixes = subtype.split(\"+\", 2);\n          this._subtype = fixes[0];\n          this._subtypeFacets = fixes[0].split(\".\");\n          this._suffix = fixes[1];\n        } else {\n          this._subtypeFacets = subtype.split(\".\");\n        }\n      }\n    }\n\n    private firstSubtypeFacetEquals(str:string):boolean {\n      return this._subtypeFacets.length > 0 && this._subtypeFacets[0] === str;\n    }\n\n    private wrapQuotes(str:string):string {\n      return (str.indexOf(\";\") > -1) ? '\"' + str + '\"' : str;\n    }\n\n    private unwrapQuotes(str:string):string {\n      return (str.substr(0, 1) === '\"' && str.substr(-1) === '\"') ? str.substr(1, str.length - 2) : str;\n    }\n  }\n}\n","module SpicyPixel.Core {\n  export class Imports {\n  }\n}\n\ndeclare var module:any;\ndeclare var exports:any;\ndeclare var define:any;\ndeclare var require:any;\n\n(function (root:any, factory:any) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD anonymous module\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // CommonJS anonymous module\n    module.exports = factory();\n  } else {\n    // Browser globals\n    root.SpicyPixel = root.SpicyPixel || {};\n    root.SpicyPixel.Core = factory();\n  }\n})(this, function () {\n  return SpicyPixel.Core;\n});"],"sourceRoot":"./"}